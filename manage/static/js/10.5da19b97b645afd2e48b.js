webpackJsonp([10],{180:function(e,t,n){n(469);var r=n(83)(n(359),n(489),null,null);e.exports=r.exports},198:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a});var r="",a=void 0;r="",a="/static/",t.b={token:""}},200:function(e,t,n){"use strict";n.d(t,"K",function(){return a}),n.d(t,"I",function(){return o}),n.d(t,"J",function(){return i}),n.d(t,"L",function(){return u}),n.d(t,"H",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"E",function(){return p}),n.d(t,"F",function(){return m}),n.d(t,"G",function(){return v}),n.d(t,"B",function(){return b}),n.d(t,"C",function(){return h}),n.d(t,"D",function(){return g}),n.d(t,"w",function(){return x}),n.d(t,"y",function(){return _}),n.d(t,"t",function(){return y}),n.d(t,"u",function(){return w}),n.d(t,"A",function(){return k}),n.d(t,"v",function(){return O}),n.d(t,"f",function(){return S}),n.d(t,"l",function(){return F}),n.d(t,"q",function(){return P}),n.d(t,"j",function(){return T}),n.d(t,"k",function(){return C}),n.d(t,"s",function(){return E}),n.d(t,"n",function(){return $}),n.d(t,"m",function(){return j}),n.d(t,"p",function(){return I}),n.d(t,"o",function(){return q}),n.d(t,"z",function(){return A}),n.d(t,"r",function(){return z}),n.d(t,"i",function(){return D}),n.d(t,"e",function(){return M}),n.d(t,"g",function(){return L}),n.d(t,"x",function(){return J}),n.d(t,"h",function(){return R});var r=n(204),a=function(e){return n.i(r.a)("/admin/login",e,"POST")},o=function(e){return n.i(r.a)("/admin/signup",e,"POST")},i=function(e){return n.i(r.a)("/admin/forgetpasswd",e,"POST")},u=function(){return n.i(r.a)("/admin/gets3count")},s=function(e){return n.i(r.a)("/admin/adds3",e,"POST")},l=function(){return n.i(r.a)("/admin/refresh_token")},c=function(){return n.i(r.a)("/admin/info")},d=function(e){return n.i(r.a)("/admin/change_password",e,"POST")},f=function(e){return n.i(r.a)("/statis/jobinfo",{query_time:e},"POST")},p=function(){return n.i(r.a)("/statis/all_store_size")},m=function(){return n.i(r.a)("/statis/all_rc_size")},v=function(){return n.i(r.a)("/statis/all_remoterc_size")},b=function(e){return n.i(r.a)("/statis/store_size",{query_time:e},"POST")},h=function(e){return n.i(r.a)("/statis/rc_size",{query_time:e},"POST")},g=function(e){return n.i(r.a)("/statis/remoterc_size",{query_time:e},"POST")},x=function(e){return n.i(r.a)("/policy/assign",e,"POST")},_=function(){return n.i(r.a)("/policy/getname")},y=function(){return n.i(r.a)("/policy/count")},w=function(e){return n.i(r.a)("/policy",e)},k=function(e){return n.i(r.a)("/policy/add",e,"POST")},O=function(e){return n.i(r.a)("/policy/"+e,{},"DELETE")},S=function(){return n.i(r.a)("/vm/getname")},F=function(e){return n.i(r.a)("/vm/sess/"+e)},P=function(e){return n.i(r.a)("/vm/installkey/"+e)},T=function(){return n.i(r.a)("/vm/count")},C=function(e){return n.i(r.a)("/vm",e)},E=function(e){return n.i(r.a)("/vm/add",e,"POST")},$=function(e){return n.i(r.a)("/vm/recovery",e,"POST")},j=function(e){return n.i(r.a)("/vm/"+e,{},"DELETE")},I=function(e){return n.i(r.a)("/undepolyvm",e)},q=function(){return n.i(r.a)("/undepolyvm/count")},A=function(e){return n.i(r.a)("/undepolyvm/add",e,"POST")},z=function(e){return n.i(r.a)("/undepolyvm/"+e,{},"DELETE")},D=function(e){return n.i(r.a)("/instantvm/bindvm",e,"POST")},M=function(){return n.i(r.a)("/instantvm/count")},L=function(e){return n.i(r.a)("/instantvm",e)},J=function(e){return n.i(r.a)("/instantvm/add",e,"POST")},R=function(e){return n.i(r.a)("/instantvm/"+e,{},"DELETE")}},204:function(e,t,n){"use strict";var r=n(82),a=n.n(r),o=n(21),i=n.n(o),u=n(84),s=n.n(u),l=n(205),c=n.n(l),d=n(206),f=n.n(d),p=n(81),m=n.n(p),v=n(198),b=this;t.a=function(){var e=m()(a.a.mark(function e(){var t,n,r,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fetch";return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=d.toUpperCase(),u=v.c+u,"GET"==d&&(t="",f()(l).forEach(function(e){t+=e+"="+l[e]+"&"}),""!==t&&(t=t.substr(0,t.lastIndexOf("&")),u=u+"?"+t)),!window.fetch||"fetch"!=p){e.next=21;break}return n={credentials:"include",method:d,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+v.b.token},mode:"cors",cache:"no-cache"},"POST"==d&&Object.defineProperty(n,"body",{value:c()(l)}),e.prev=6,e.next=9,fetch(u,n);case 9:return r=e.sent,e.next=12,r.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:throw e.prev=16,e.t0=e.catch(6),new Error(e.t0);case 19:e.next=22;break;case 21:return e.abrupt("return",new s.a(function(e,t){var n=void 0;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var r="";"POST"==d&&(r=c()(l)),n.open(d,u,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(r),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var r=n.response;"object"!==(void 0===r?"undefined":i()(r))&&(r=JSON.parse(r)),e(r)}else t(n)}}));case 22:case"end":return e.stop()}},e,b,[[6,16]])}));return function(){return e.apply(this,arguments)}}()},205:function(e,t,n){e.exports={default:n(207),__esModule:!0}},206:function(e,t,n){e.exports={default:n(208),__esModule:!0}},207:function(e,t,n){var r=n(5),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},208:function(e,t,n){n(210),e.exports=n(5).Object.keys},209:function(e,t,n){var r=n(13),a=n(5),o=n(17);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",i)}},210:function(e,t,n){var r=n(30),a=n(22);n(209)("keys",function(){return function(e){return a(r(e))}})},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(82),a=n.n(r),o=n(81),i=n.n(o),u=n(49),s=n.n(u),l=(n(200),n(198)),c=n(85);t.default={data:function(){return{baseImgPath:l.a}},created:function(){this.adminInfo.id||this.getAdminData()},computed:s()({},n.i(c.b)(["adminInfo"])),methods:s()({},n.i(c.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return i()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:"home"==e?t.$router.push("/manage"):"signout"==e&&(t.$message({type:"success",message:"退出成功"}),t.$router.push("/"),l.b.token="");case 1:case"end":return n.stop()}},n,t)}))()}})}},217:function(e,t,n){t=e.exports=n(178)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},219:function(e,t,n){var r=n(217);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(179)("019239ba",r,!0)},220:function(e,t,n){n(219);var r=n(83)(n(216),n(221),null,null);e.exports=r.exports},221:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header_container"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return n("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2),e._v(" "),n("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[n("img",{staticClass:"avator",attrs:{src:e.baseImgPath+e.adminInfo.avatar}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),a=n.n(r),o=n(82),i=n.n(o),u=n(81),s=n.n(u),l=n(220),c=n.n(l),d=n(200),f=n(198);t.default={data:function(){return{baseUrl:f.c,baseImgPath:f.a,restaurant_id:1,categoryForm:{vmname:"",area:1048833},foodForm:{vmname:"",area:1048833,username:"",password:""},foodrules:{vmname:[{required:!0,message:"请输入虚拟机IP地址",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},area:[{value:1048833,label:"阿里云北京"},{value:1049089,label:"阿里云上海"},{value:1049345,label:"阿里云深圳"},{value:1049601,label:"阿里云杭州"},{value:1049857,label:"阿里云青岛"},{value:1050113,label:"阿里云张家口"},{value:1050369,label:"阿里云呼和浩特"},{value:2097409,label:"腾讯云北京"},{value:2097665,label:"腾讯云上海"},{value:2097921,label:"腾讯云广州"},{value:2098177,label:"腾讯云南京"},{value:2098433,label:"腾讯云成都"},{value:2098689,label:"腾讯云重庆"},{value:3145985,label:"华为云北京"},{value:3146241,label:"华为云上海"},{value:3146497,label:"华为云广州"},{value:3146753,label:"华为云贵阳"},{value:4194561,label:"百度云北京"},{value:4194817,label:"百度云苏州"},{value:4195073,label:"百度云广州"},{value:4195329,label:"百度云保定"},{value:5243137,label:"UCloud北京"},{value:5243393,label:"UCloud上海"},{value:5243649,label:"UCloud广州"},{value:6291713,label:"KSCloud北京"},{value:6291969,label:"KSCloud上海"},{value:6292225,label:"KSCloud广州"},{value:7340289,label:"天翼云贵州"},{value:8388865,label:"移动云北京"},{value:269484289,label:"AWS北京"},{value:269484545,label:"AWS宁夏"}],showAddCategory:!1,foodSpecs:"one",dialogFormVisible:!1}},components:{headTop:c.a},created:function(){},activated:function(){this.initData()},computed:{},methods:{initData:function(){var e=this;return s()(i.a.mark(function t(){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.i(d.b)();case 3:r=t.sent,r.token&&(f.b.token=r.token),t.next=14;break;case 7:t.prev=7,t.t0=t.catch(0),a="会话过期，请重新登录",e.$router.push("/"),f.b.token="",e.$message({type:"error",message:a}),console.log("获取数据失败",t.t0);case 14:case"end":return t.stop()}},t,e,[[0,7]])}))()},addCategoryFun:function(){this.showAddCategory=!this.showAddCategory},handleDelete:function(e){this.foodForm.specs.splice(e,1)},tableRowClassName:function(e,t){return 1===t?"info-row":3===t?"positive-row":""},addInstantVM:function(e){var t=this;this.$refs[e].validate(function(){var e=s()(i.a.mark(function e(r){var o,u,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=26;break}return o=a()({},t.foodForm),e.prev=2,e.next=5,n.i(d.x)(o);case 5:if(u=e.sent,1!=u.status){e.next=17;break}return console.log(u),t.$message({type:"success",message:"添加成功"}),t.foodForm={vmname:"",area:1048833,username:"",password:""},e.next=12,n.i(d.b)();case 12:s=e.sent,s.token&&(f.b.token=s.token),t.$router.push("instantvmlist"),e.next=19;break;case 17:void 0==u.message&&(t.$router.push("/"),u.message="会话过期，请重新登录",f.b.token=""),t.$message({type:"error",message:u.message});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.log(e.t0);case 24:e.next=28;break;case 26:return t.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),e.abrupt("return",!1);case 28:case"end":return e.stop()}},e,t,[[2,21]])}));return function(t){return e.apply(this,arguments)}}())}}}},381:function(e,t,n){t=e.exports=n(178)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.form{min-width:400px;margin-bottom:30px}.form:hover{box-shadow:0 0 8px 0 rgba(232,237,250,.6),0 2px 4px 0 rgba(232,237,250,.5);border-radius:6px;transition:all .4s}.food_form{border:1px solid #eaeefb;padding:10px 10px 0}.form_header{text-align:center;margin-bottom:10px}.category_select{border:1px solid #eaeefb;padding:10px 30px 10px 10px;border-top-right-radius:6px;border-top-left-radius:6px}.add_category_row{height:0;overflow:hidden;transition:all .4s;background:#f9fafc}.showEdit{height:185px}.add_category{background:#f9fafc;padding:10px 30px 0 10px;border:1px solid #eaeefb;border-top:none}.add_category_button{text-align:center;line-height:40px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;border:1px solid #eaeefb;border-top:none;transition:all .4s}.add_category_button:hover{background:#f9fafc}.add_category_button:hover .edit_icon,.add_category_button:hover span{color:#20a0ff}.add_category_button span{font-size:14px;color:#999;transition:all .4s}.add_category_button .edit_icon{color:#ccc;transition:all .4s}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.cell{text-align:center}",""])},469:function(e,t,n){var r=n(381);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(179)("913b984e",r,!0)},489:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("head-top"),e._v(" "),n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{attrs:{span:14,offset:4}},[n("header",{staticClass:"form_header"},[e._v("添加即时恢复虚拟机")]),e._v(" "),n("el-form",{ref:"foodForm",staticClass:"form food_form",attrs:{model:e.foodForm,rules:e.foodrules,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"虚拟机IP",prop:"vmname"}},[n("el-input",{model:{value:e.foodForm.vmname,callback:function(t){e.$set(e.foodForm,"vmname",t)},expression:"foodForm.vmname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"虚拟机所在区域",prop:"area"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.foodForm.area,callback:function(t){e.$set(e.foodForm,"area",t)},expression:"foodForm.area"}},e._l(e.area,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{model:{value:e.foodForm.username,callback:function(t){e.$set(e.foodForm,"username",t)},expression:"foodForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:e.foodForm.password,callback:function(t){e.$set(e.foodForm,"password",t)},expression:"foodForm.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addInstantVM("foodForm")}}},[e._v("确认添加即时恢复虚拟机")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
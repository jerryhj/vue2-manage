webpackJsonp([10],{180:function(t,e,n){n(466);var r=n(83)(n(358),n(485),null,null);t.exports=r.exports},197:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o});var r="",o=void 0;r="",o="/static/",e.b={token:""}},199:function(t,e,n){"use strict";n.d(e,"J",function(){return o}),n.d(e,"H",function(){return a}),n.d(e,"I",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return d}),n.d(e,"E",function(){return f}),n.d(e,"F",function(){return l}),n.d(e,"G",function(){return p}),n.d(e,"B",function(){return m}),n.d(e,"C",function(){return v}),n.d(e,"D",function(){return b}),n.d(e,"w",function(){return h}),n.d(e,"y",function(){return g}),n.d(e,"t",function(){return x}),n.d(e,"u",function(){return _}),n.d(e,"A",function(){return y}),n.d(e,"v",function(){return w}),n.d(e,"f",function(){return k}),n.d(e,"l",function(){return O}),n.d(e,"q",function(){return F}),n.d(e,"j",function(){return P}),n.d(e,"k",function(){return S}),n.d(e,"s",function(){return T}),n.d(e,"n",function(){return E}),n.d(e,"m",function(){return $}),n.d(e,"p",function(){return j}),n.d(e,"o",function(){return C}),n.d(e,"z",function(){return I}),n.d(e,"r",function(){return q}),n.d(e,"i",function(){return z}),n.d(e,"e",function(){return D}),n.d(e,"g",function(){return A}),n.d(e,"x",function(){return M}),n.d(e,"h",function(){return J});var r=n(204),o=function(t){return n.i(r.a)("/admin/login",t,"POST")},a=function(t){return n.i(r.a)("/admin/signup",t,"POST")},i=function(t){return n.i(r.a)("/admin/forgetpasswd",t,"POST")},s=function(){return n.i(r.a)("/admin/refresh_token")},u=function(){return n.i(r.a)("/admin/info")},c=function(t){return n.i(r.a)("/admin/change_password",t,"POST")},d=function(t){return n.i(r.a)("/statis/jobinfo",{query_time:t},"POST")},f=function(){return n.i(r.a)("/statis/all_store_size")},l=function(){return n.i(r.a)("/statis/all_rc_size")},p=function(){return n.i(r.a)("/statis/all_remoterc_size")},m=function(t){return n.i(r.a)("/statis/store_size",{query_time:t},"POST")},v=function(t){return n.i(r.a)("/statis/rc_size",{query_time:t},"POST")},b=function(t){return n.i(r.a)("/statis/remoterc_size",{query_time:t},"POST")},h=function(t){return n.i(r.a)("/policy/assign",t,"POST")},g=function(){return n.i(r.a)("/policy/getname")},x=function(){return n.i(r.a)("/policy/count")},_=function(t){return n.i(r.a)("/policy",t)},y=function(t){return n.i(r.a)("/policy/add",t,"POST")},w=function(t){return n.i(r.a)("/policy/"+t,{},"DELETE")},k=function(){return n.i(r.a)("/vm/getname")},O=function(t){return n.i(r.a)("/vm/sess/"+t)},F=function(t){return n.i(r.a)("/vm/installkey/"+t)},P=function(){return n.i(r.a)("/vm/count")},S=function(t){return n.i(r.a)("/vm",t)},T=function(t){return n.i(r.a)("/vm/add",t,"POST")},E=function(t){return n.i(r.a)("/vm/recovery",t,"POST")},$=function(t){return n.i(r.a)("/vm/"+t,{},"DELETE")},j=function(t){return n.i(r.a)("/undepolyvm",t)},C=function(){return n.i(r.a)("/undepolyvm/count")},I=function(t){return n.i(r.a)("/undepolyvm/add",t,"POST")},q=function(t){return n.i(r.a)("/undepolyvm/"+t,{},"DELETE")},z=function(t){return n.i(r.a)("/instantvm/bindvm",t,"POST")},D=function(){return n.i(r.a)("/instantvm/count")},A=function(t){return n.i(r.a)("/instantvm",t)},M=function(t){return n.i(r.a)("/instantvm/add",t,"POST")},J=function(t){return n.i(r.a)("/instantvm/"+t,{},"DELETE")}},204:function(t,e,n){"use strict";var r=n(82),o=n.n(r),a=n(21),i=n.n(a),s=n(84),u=n.n(s),c=n(205),d=n.n(c),f=n(206),l=n.n(f),p=n(81),m=n.n(p),v=n(197),b=this;e.a=function(){var t=m()(o.a.mark(function t(){var e,n,r,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fetch";return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f=f.toUpperCase(),s=v.c+s,"GET"==f&&(e="",l()(c).forEach(function(t){e+=t+"="+c[t]+"&"}),""!==e&&(e=e.substr(0,e.lastIndexOf("&")),s=s+"?"+e)),!window.fetch||"fetch"!=p){t.next=21;break}return n={credentials:"include",method:f,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+v.b.token},mode:"cors",cache:"no-cache"},"POST"==f&&Object.defineProperty(n,"body",{value:d()(c)}),t.prev=6,t.next=9,fetch(s,n);case 9:return r=t.sent,t.next=12,r.json();case 12:return a=t.sent,t.abrupt("return",a);case 16:throw t.prev=16,t.t0=t.catch(6),new Error(t.t0);case 19:t.next=22;break;case 21:return t.abrupt("return",new u.a(function(t,e){var n=void 0;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var r="";"POST"==f&&(r=d()(c)),n.open(f,s,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(r),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var r=n.response;"object"!==(void 0===r?"undefined":i()(r))&&(r=JSON.parse(r)),t(r)}else e(n)}}));case 22:case"end":return t.stop()}},t,b,[[6,16]])}));return function(){return t.apply(this,arguments)}}()},205:function(t,e,n){t.exports={default:n(207),__esModule:!0}},206:function(t,e,n){t.exports={default:n(208),__esModule:!0}},207:function(t,e,n){var r=n(5),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},208:function(t,e,n){n(210),t.exports=n(5).Object.keys},209:function(t,e,n){var r=n(13),o=n(5),a=n(17);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",i)}},210:function(t,e,n){var r=n(30),o=n(22);n(209)("keys",function(){return function(t){return o(r(t))}})},215:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(82),o=n.n(r),a=n(81),i=n.n(a),s=n(49),u=n.n(s),c=(n(199),n(197)),d=n(85);e.default={data:function(){return{baseImgPath:c.a}},created:function(){this.adminInfo.id||this.getAdminData()},computed:u()({},n.i(d.b)(["adminInfo"])),methods:u()({},n.i(d.c)(["getAdminData"]),{handleCommand:function(t){var e=this;return i()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:"home"==t?e.$router.push("/manage"):"signout"==t&&(e.$message({type:"success",message:"退出成功"}),e.$router.push("/"),c.b.token="");case 1:case"end":return n.stop()}},n,e)}))()}})}},216:function(t,e,n){e=t.exports=n(178)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},218:function(t,e,n){var r=n(216);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(179)("019239ba",r,!0)},219:function(t,e,n){n(218);var r=n(83)(n(215),n(220),null,null);t.exports=r.exports},220:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header_container"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta,function(e,r){return n("el-breadcrumb-item",{key:r},[t._v(t._s(e))])})],2),t._v(" "),n("el-dropdown",{attrs:{"menu-align":"start"},on:{command:t.handleCommand}},[n("img",{staticClass:"avator",attrs:{src:t.baseImgPath+t.adminInfo.avatar}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"home"}},[t._v("首页")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"signout"}},[t._v("退出")])],1)],1)],1)},staticRenderFns:[]}},358:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(49),o=n.n(r),a=n(82),i=n.n(a),s=n(81),u=n.n(s),c=n(219),d=n.n(c),f=n(199),l=n(197);e.default={data:function(){return{baseUrl:l.c,baseImgPath:l.a,restaurant_id:1,categoryForm:{vmname:"",area:1048833},foodForm:{vmname:"",area:1048833,username:"",password:""},foodrules:{vmname:[{required:!0,message:"请输入虚拟机IP地址",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},area:[{value:1048833,label:"阿里云北京"},{value:1049089,label:"阿里云上海"},{value:2097409,label:"腾讯云北京"},{value:2097665,label:"腾讯云上海"}],showAddCategory:!1,foodSpecs:"one",dialogFormVisible:!1}},components:{headTop:d.a},created:function(){},activated:function(){this.initData()},computed:{},methods:{initData:function(){var t=this;return u()(i.a.mark(function e(){var r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.i(f.b)();case 3:r=e.sent,r.token&&(l.b.token=r.token),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),o="会话过期，请重新登录",t.$router.push("/"),l.b.token="",t.$message({type:"error",message:o}),console.log("获取数据失败",e.t0);case 14:case"end":return e.stop()}},e,t,[[0,7]])}))()},addCategoryFun:function(){this.showAddCategory=!this.showAddCategory},handleDelete:function(t){this.foodForm.specs.splice(t,1)},tableRowClassName:function(t,e){return 1===e?"info-row":3===e?"positive-row":""},addInstantVM:function(t){var e=this;this.$refs[t].validate(function(){var t=u()(i.a.mark(function t(r){var a,s,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=26;break}return a=o()({},e.foodForm),t.prev=2,t.next=5,n.i(f.x)(a);case 5:if(s=t.sent,1!=s.status){t.next=17;break}return console.log(s),e.$message({type:"success",message:"添加成功"}),e.foodForm={vmname:"",area:1048833,username:"",password:""},t.next=12,n.i(f.b)();case 12:u=t.sent,u.token&&(l.b.token=u.token),e.$router.push("instantvmlist"),t.next=19;break;case 17:void 0==s.message&&(e.$router.push("/"),s.message="会话过期，请重新登录",l.b.token=""),e.$message({type:"error",message:s.message});case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(2),console.log(t.t0);case 24:t.next=28;break;case 26:return e.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,e,[[2,21]])}));return function(e){return t.apply(this,arguments)}}())}}}},379:function(t,e,n){e=t.exports=n(178)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.form{min-width:400px;margin-bottom:30px}.form:hover{box-shadow:0 0 8px 0 rgba(232,237,250,.6),0 2px 4px 0 rgba(232,237,250,.5);border-radius:6px;transition:all .4s}.food_form{border:1px solid #eaeefb;padding:10px 10px 0}.form_header{text-align:center;margin-bottom:10px}.category_select{border:1px solid #eaeefb;padding:10px 30px 10px 10px;border-top-right-radius:6px;border-top-left-radius:6px}.add_category_row{height:0;overflow:hidden;transition:all .4s;background:#f9fafc}.showEdit{height:185px}.add_category{background:#f9fafc;padding:10px 30px 0 10px;border:1px solid #eaeefb;border-top:none}.add_category_button{text-align:center;line-height:40px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;border:1px solid #eaeefb;border-top:none;transition:all .4s}.add_category_button:hover{background:#f9fafc}.add_category_button:hover .edit_icon,.add_category_button:hover span{color:#20a0ff}.add_category_button span{font-size:14px;color:#999;transition:all .4s}.add_category_button .edit_icon{color:#ccc;transition:all .4s}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.cell{text-align:center}",""])},466:function(t,e,n){var r=n(379);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(179)("913b984e",r,!0)},485:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("head-top"),t._v(" "),n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{attrs:{span:14,offset:4}},[n("header",{staticClass:"form_header"},[t._v("添加即时恢复虚拟机")]),t._v(" "),n("el-form",{ref:"foodForm",staticClass:"form food_form",attrs:{model:t.foodForm,rules:t.foodrules,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"虚拟机IP",prop:"vmname"}},[n("el-input",{model:{value:t.foodForm.vmname,callback:function(e){t.$set(t.foodForm,"vmname",e)},expression:"foodForm.vmname"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"虚拟机所在区域",prop:"area"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.foodForm.area,callback:function(e){t.$set(t.foodForm,"area",e)},expression:"foodForm.area"}},t._l(t.area,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{model:{value:t.foodForm.username,callback:function(e){t.$set(t.foodForm,"username",e)},expression:"foodForm.username"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.foodForm.password,callback:function(e){t.$set(t.foodForm,"password",e)},expression:"foodForm.password"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addInstantVM("foodForm")}}},[t._v("确认添加即时恢复虚拟机")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});